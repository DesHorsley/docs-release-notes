// Product_Name Version number/date Release Notes 
= Mule Runtime 3.9.2 Release Notes 
:keywords: mule, 3.9.2, runtime, release notes 
 
*Nov 23, 2018* 
 
// <All sections are required. If there is nothing to say, then the body text in the section should read, “Not applicable.”
This document describes new features and enhancements, known limitations, issues, and fixes in Mule Runtime 3.9.1.
 
Be sure to read this document before you install this release. For reference, save these release notes to your hard drive or print a copy.

http://s3.amazonaws.com/new-mule-artifacts/mule-ee-distribution-standalone-3.9.2.zip[Download Mule 3.9.2 EE Distribution]
 
== Key Enhancements 
 
Key Enhancements 
 
* <TO_COMPLETE> 
 
 
== Changes 
 
* <TO_COMPLETE> 
 
== Fixed Issues 
 
[%header,cols="15a,85a"] 
|===
|Issue |Description
// Fixed Issues 
| MULE-15968 | Ftp LIST command not issued after re-connection by FTP transport resulting in stale connection 
| MULE-15963 | JMS connection is not closed if failure during post creation 
| MULE-15888 | Malformed URL returns 500 instead of 400 
| MULE-15865 | JMS Connector deadlock with ActiveMQ broker reconnection, and forever retry policy 
| MULE-15807 | OAuth ClientCredentials: Race condition when two requests try to refresh the token at the same time 
| MULE-15789 | DataSourceConfig needs to ask isExpression 
| MULE-15769 | IMAP Reconnection Policy not working 
| MULE-15759 | JSON and JAXB transformers must be eagerly initialized 
| MULE-15745 | Spring Expression Language cannot escape "#{" 
| MULE-15744 | JMS Connection is not closed on error while connecting 
| MULE-15722 | HTTP Requester is sending content-type even if no payload is sent 
| MULE-15710 | Attachment is not included in the mule message when it is not multipart 
| MULE-15703 | Update grizzly due to closed stream in NTLM dancing and guarantee closing of streams 
| MULE-15698 | EnvelopeInterceptor.before not called with non-blocking ProcessingStrategy 
| MULE-15659 | Cannot configure the shutdown timeout for a WorkManager listener in a domain
| MULE-15624 | dbCreateStruct function should be able to resolve BLOB and CLOB 
| MULE-15582 | Error logs when starting and stopping mule 
| MULE-15528 | Mel does not reset collection type on parsing nested collections 
| MULE-15496 | Default Trust Manager Algorithm is equal to the Default Keystore Algorithm  
| MULE-15493 | OAuth2 Request config always fetches token at startup 
| MULE-15491 | Dynamic Db datasource factory does not dispose cached datasources 
| MULE-15487 | Upgrade Jackson to 2.9.7 in 3.x 
| MULE-15456 | Cxf does not reset thread owner in case of non blocking without replyToHandler 
| MULE-15454 | Recurring log warning: ListenerSubscriptionPair has already been registered 
| MULE-15433 | JMS Connection Factory shouldn't be cached when retrieved through JNDI 
| MULE-15344 | HTTP request uses existing DataType when content or type are empty 
| MULE-15343 | When sftp transport is configured with append mode for duplicate handling strategy tempDirOutbound is not supported 
| MULE-15341 | validation:is-time accepts invalid dates 
| MULE-15326 | Grizzly AHC race condition when using New Relic 
| MULE-15264 | Message attachments have no order 
| MULE-15246 | Cannot replace a catch all listener with another 
| MULE-15175 | NPE when executing NullSafe expression in MVEL 
| MULE-15156 | Non-blocking Flow containing a Scatter Gather router performs infinite loop to the error handler 
| MULE-15152 | Simultaneous reading and writing causes NPE in grizzly 
| MULE-15145 | Error creating Bean of Type org.mule.module.spring.security.AuthorizationFilter after migrating code from 3.8.5 to 3.8.6 
| MULE-15138 | JMX notifications must be send using a string as a message source 
| MULE-15137 | WSDLUtils not taking into account already resolved dependencies 
| MULE-15064 | WSConsumer not adding Content-Disposition Header when MTOM is enabled 
| MULE-15062 | Infinite timeout conflicts with socket timeout 
| MULE-15021 | TLS restrictions are not enforced to implicit connections 
| MULE-15004 | Using serverTimeout has no effect 
| MULE-14969 | PartitionInMemoryObjectStore is leaking ExpiryInfo objects 
| MULE-14949 | SSL issue log message has wrong debug data 
| MULE-14946 | Async scope is not allowed in the same flow after Transactional scope 
| MULE-14944 | HTTP Listener parse errors expose request data without escaping it 
| MULE-14940 | EndpointTransactionalInterceptingMessageProcessor not creating the transactional execution template for JMS since 3.8.0 
| MULE-14929 | HTTP with one config and two listeners fails to find the correct resolution path 
| MULE-14923 | Artemix Full Qualified Queue Name is truncated due to the use of :: separator 
| MULE-14901 | 50% performance degradation with empty MessageProcessorNotificationListener 
| MULE-14887 | HTTP listener does not stream OutputHandlers 
| MULE-14878 | Mule 3 and 4 HTTP connectors' correlation ids should interop  
| MULE-14503 | JsonLayout in logging needs jackson core and databind libraries to be in lib/boot 
| MULE-10246 | TransformerWeighting violates transitivity requirement for Comparable
| MULE-15340 | Deprecate static bus instance option
| MULE-15259 | Provide the option to reset underlying controller of XSLTTransformer
| EE-6051 | Update Tanuki wrapper to 3.5.35 in order to address file encoding issues
| EE-6351 | Mule Runtime NPE 
| EE-6330 | When Insight is enabled, consumable payloads are converted to String 
| EE-6318 | SynchronizedCollectionsSerializer doesn't synchronize iteration 
| EE-6299 | Serialization error when trying to serialize Guava immutable collections with Kryo 
| EE-6291 | Under heavy load we see a NullPointerException making some requests fail. 
| EE-6203 | Transaction incorrectly updated in BTM journal if failover during recovery 
| EE-6202 | Tracking eventNotification has to send original because of consumable stream 
| EE-6156 | Kryo cannot serialize charsets
| EE-6130 | Kryo serializers cannot handle CAS types 
| EE-6111 | Exception raised when trying to invalidate an InMemory cache
| EE-6099 | TransactedPollingJmsMessageReceiver not working for jms spec 1.1
| EE-5938 | Delegate Distributed Object Store Expiration to hazelcast
| EE-5518 | World-Readable Java KeyStore and Configuration Files
| EE-5959 | Add optional functionality to manage license keys in default env preferences location
//
// ------------------------------- 
// - Enhancement Request Issues 
// ------------------------------- 
| MULE-15927 | Allow HTTP requests to retry on all methods 
| MULE-15788 | More details when DefaultExpressionManager.DefaultExpressionManager() fails 
| MULE-15665 | Http null host when port is invalid 
| EE-6094 | Mule + Websphere: custom service without mule-boot-all.jar in java/ext of Websphere 
|=== 
 
== Known Limitations and Workarounds
 
[%header,cols="15a,85a"] 
|===
|Issue |Description
| MULE-15603 | Values of AsyncInterceptingMessageProcessor maxThreadsActive and minThreadsActive are not accurate 
| EE-6181 | Use deadlock safe strategy for transaction logging 
|=== 


== Upgrade Requirements

[%header,cols="15a,85a"]
|===
|Issue |Description
| MULE-8817 | spring-messaging was upgraded from 4.1.9 to 4.3.17
| MMULE-15004 | The HTTP listener's socket server timeout default was changed from 0 to 60 seconds, while respecting the connectionIdleTimeout settings.
| MULE-15264 | Message attachments now respect the order of their introduction, meaning their addition order will match the order in which they are sent to external services and the order in which they are received from external services will match the order in which they are stored.
| MULE-15344 | HTTP will now follow RFC-2616 to determine the mime type when no Content-Type header is sent but data is available (using application/octet-stream). When no data is available it will now use */*.
|===
 
== Software Compatibility Testing 
 
Mule was tested on the following software: 
 
[%header,cols="15a,85a"] 
|===
|Software |Version
| JDK | JDK 1.8.0 (Recommended JDK 1.8.0_191/192) 
| OS | MacOS 10.11.x, HP-UX 11i V3, AIX 7.2, Windows 2016 Server, Windows 10, Solaris 11.3, RHEL 7, Ubuntu Server 16.04 
| Application Servers | Tomcat 7, Tomcat 8, Weblogic 12c, Wildfly 8, Wildfly 9, Websphere 8, Jetty 8, Jetty 9 
| Databases | Oracle 11g, Oracle 12c, MySQL 5.5+, DB2 10, PostgreSQL 9, Derby 10, Microsoft SQL Server 2014 
|=== 
 
The unified Mule Runtime 3.9.2 and API Gateway is compatible with APIkit 3.9.2. 
 
This version of Mule runtime is bundled with the Runtime Manager Agent plugin version 2.11.2. 
 
== Library Changes 
 
[%header,cols="15a,85a"] 
|===
|Issue |Description
| MULE-15039 | CXF leaking responseContext in the ClientImpl
| MULE-15646 | Upgrade Jetty to 9.4.12
| MULE-15332 | Upgrade BouncyCastle to 1.60
| MULE-15176 | Upgrade Guava to 26.0 in 3.x
| MULE-15033 | Upgrade Hazelcast to 3.10.4
| MULE-14926 | Upgrade Groovy to 2.4.15
|===
 
